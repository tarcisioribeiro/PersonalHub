apiVersion: v1
kind: ConfigMap
metadata:
  name: postgres-init-config
  namespace: personalhub
  labels:
    app.kubernetes.io/name: personalhub
    app.kubernetes.io/component: postgres
data:
  init-pgvector.sql: |
    -- Enable pgvector extension for vector similarity search
    CREATE EXTENSION IF NOT EXISTS vector;

    -- Grant usage to the database user
    GRANT ALL ON ALL TABLES IN SCHEMA public TO CURRENT_USER;
